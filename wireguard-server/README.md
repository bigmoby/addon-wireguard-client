# Test WireGuard Server

This setup allows you to create a WireGuard server to test your Home Assistant addon.

## ğŸš€ Quick Start

1. **Start the server:**

   ```bash
   cd wireguard-server
   ./start-server.sh
   ```

2. **Get client configurations:**

   ```bash
   ./get-configs.sh
   ```

3. **Stop the server:**
   ```bash
   docker-compose down
   ```

## ğŸ“‹ Configuration for Home Assistant

Once the server is started, you will have two client configurations available:

- `config/peer1/peer1.conf` - Use this for your HA addon
- `config/peer2/peer2.conf` - Use this for testing with other devices

### Example configuration for HA addon:

```yaml
wireguard_client:
  interface: wg0
  private_key: "PRIVATE_KEY_FROM_CONF_FILE"
  address: "10.13.13.2/24" # Peer1 IP
  dns: "10.13.13.1" # Server DNS
  endpoint: "YOUR_LOCAL_IP:51820"
  public_key: "PUBLIC_KEY_FROM_CONF_FILE"
  allowed_ips: "0.0.0.0/0"
```

## ğŸ” Connection Verification

1. **From the server:** `docker exec wireguard-server wg show`
2. **From the client:** `wg show` (if you have wireguard-tools installed)
3. **Ping test:** `ping 10.13.13.1` from the client

## ğŸ“± Mobile Test

Use the QR code generated by the script `get-configs.sh` to quickly test with the WireGuard mobile app.

## ğŸ› ï¸ Troubleshooting

- **Port already in use:** Change the port in docker-compose.yml
- **Permissions:** Ensure Docker has the necessary permissions
- **Firewall:** Check that port 51820 is open
